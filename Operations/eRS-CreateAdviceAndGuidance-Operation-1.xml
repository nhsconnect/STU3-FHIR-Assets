<?xml version="1.0" encoding="utf-8"?>
<OperationDefinition xmlns="http://hl7.org/fhir">
  <url value="https://fhir.nhs.uk/STU3/OperationDefinition/eRS-CreateAdviceAndGuidance-Operation-1" />
  <version value="1.0.0"></version>
  <name value="eRS-CreateAdviceAndGuidance-Operation-1" />
  <status value="draft" />
  <kind value="operation" />
  <code value="ers.createAdviceAndGuidance" />
  <system value="false" />
  <type value="true" />
  <instance value="false" />
  <date value="2024-03-06T00:00:00+01:00" />
  <publisher value="NHS Digital" />
  <contact>
    <name value="Interoperability Team" />
    <telecom>
       <system value="email" />
       <value value="interoperabilityteam@nhs.net" />
       <use value="work" />
    </telecom>
  </contact>
  <description value="Create an advice and guidance for a patient." />
  <code value="ers.createAdviceAndGuidance" />
  <system value="false" />
  <type value="true" />
  <instance value="false" />
  <parameter>
    <name value="patient" />
    <use value="in" />
    <min value="1" />
    <max value="1" />
    <documentation value="The NHS Number of the patient who the Advice Request being created is for. Format: ^[0-9]{10}$" />
    <type value="Identifier" />
  </parameter>
  <parameter>
    <name value="referringClinician" />
    <use value="in" />
    <min value="0" />
    <max value="1" />
    <documentation value="Required if and only if the logged in user has a role of Referring Clinician Admin. Format: ^[0-9]{12}$" />
    <type value="Identifier" />
  </parameter>
  <parameter>
    <name value="shortlist" />
    <use value="in" />
    <min value="1" />
    <max value="1" />
    <documentation value="A list of 1 service that will form the shortlist for the referral." />
    <type value="List" />
    <profile>
      <reference value="https://fhir.nhs.uk/STU3/StructureDefinition/eRS-Shortlist-List-1" />
    </profile>
  </parameter>
  <parameter>
    <name value="providerConversionAuthorisation" />
    <use value="in" />
    <min value="1" />
    <max value="1" />
    <documentation value="A flag indicating whether or not the provider is permitted to convert this Advice Request into a Referral if required." />
    <type value="Coding" />
    <binding>
      <strength value="required" />
      <valueSetUri value="https://fhir.nhs.uk/STU3/CodeSystem/eRS-ProviderConversionAuthorisation-1" />
    </binding>
  </parameter>
  <parameter>
    <name value="request" />
    <use value="in" />
    <min value="1" />
    <max value="1" />
    <documentation value="The initial request message to be included with the created Advice Request." />
    <type value="string" />
  </parameter>
  <parameter>
    <name value="requestAttachmentFile" />
    <use value="in" />
    <min value="0" />
    <max value="*" />
    <documentation value="Any attachments to be associated with the initial request for the created Advice Request. Must utilise the ADVICE_REQUEST attachment type." />
    <type value="DocumentReference" />
  </parameter>
  <parameter>
    <name value="createdCommunicationRequest" />
    <use value="out" />
    <min value="1" />
    <max value="1" />
    <documentation value="The created Advice Request." />
    <type value="CommunicationRequest" />
  </parameter>
  <parameter>
    <name value="createdCommunication" />
    <use value="out" />
    <min value="1" />
    <max value="1" />
    <documentation value="The initial message associated with the created Advice Request." />
    <type value="Communication" />
  </parameter>
</OperationDefinition>